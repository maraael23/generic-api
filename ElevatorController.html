<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (24) on Tue Jul 01 18:25:42 CEST 2025 -->
<title>ElevatorController</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-07-01">
<meta name="description" content="declaration: class: ElevatorController">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="script-files/script.js"></script>
<script type="text/javascript" src="script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "./";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="search.html">Search</a></li>
<li><a href="help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">Unnamed Package</a></li>
<li><a href="ElevatorController.html" class="current-selection">ElevatorController</a></li>
</ol>
<div class="nav-list-search">
<input type="text" id="search-input" disabled placeholder="Search" aria-label="Search in documentation" autocomplete="off">
<input type="reset" id="reset-search" disabled value="Reset">
</div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;
<input type="text" class="filter-input" disabled placeholder="Filter" aria-label="Filter table of contents" autocomplete="off">
<input type="reset" class="reset-filter" disabled value="Reset">
</div>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span>&#10094;</button><button class="show-sidebar">&#10095;<span>&nbsp;Show sidebar</span></button>
<ol class="toc-list">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#field-summary" tabindex="0">Field Summary</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#field-detail" tabindex="0">Field Details</a>
<ol class="toc-list">
<li><a href="#elevator" tabindex="0">elevator</a></li>
<li><a href="#doorManager" tabindex="0">doorManager</a></li>
<li><a href="#direction" tabindex="0">direction</a></li>
<li><a href="#currentFloor" tabindex="0">currentFloor</a></li>
<li><a href="#inEmergency" tabindex="0">inEmergency</a></li>
</ol>
</li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E(ElevatorAPI)" tabindex="0">ElevatorController(ElevatorAPI)</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#getCurrentFloor()" tabindex="0">getCurrentFloor()</a></li>
<li><a href="#getDirection()" tabindex="0">getDirection()</a></li>
<li><a href="#isInEmergency()" tabindex="0">isInEmergency()</a></li>
<li><a href="#stopMovement()" tabindex="0">stopMovement()</a></li>
<li><a href="#handleEmergency()" tabindex="0">handleEmergency()</a></li>
<li><a href="#resetSystem(RequestHandler)" tabindex="0">resetSystem(RequestHandler)</a></li>
<li><a href="#process(Request,RequestHandler)" tabindex="0">process(Request, RequestHandler)</a></li>
<li><a href="#handleIdleState(Request)" tabindex="0">handleIdleState(Request)</a></li>
<li><a href="#handleSystemReset(Request,RequestHandler)" tabindex="0">handleSystemReset(Request, RequestHandler)</a></li>
<li><a href="#handleEmergencyStop(Request,RequestHandler)" tabindex="0">handleEmergencyStop(Request, RequestHandler)</a></li>
<li><a href="#blockDuringEmergency(Request,RequestHandler)" tabindex="0">blockDuringEmergency(Request, RequestHandler)</a></li>
<li><a href="#validateFloorRequest(Request,RequestHandler)" tabindex="0">validateFloorRequest(Request, RequestHandler)</a></li>
<li><a href="#handleSameFloorRequest(Request,RequestHandler)" tabindex="0">handleSameFloorRequest(Request, RequestHandler)</a></li>
<li><a href="#moveToTargetFloor(Request,RequestHandler)" tabindex="0">moveToTargetFloor(Request, RequestHandler)</a></li>
<li><a href="#moveUp(int,int,int,int,int)" tabindex="0">moveUp(int, int, int, int, int)</a></li>
<li><a href="#moveDown(int,int,int,int,int)" tabindex="0">moveDown(int, int, int, int, int)</a></li>
</ol>
</li>
</ol>
</nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class ElevatorController" class="title">Class ElevatorController</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">ElevatorController</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">ElevatorController</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block"><code>ElevatorController</code> is the central class responsible for managing the behavior of the elevator.
 It manages the elevator's movement, direction, door operations, and handles various types of requests,
 including normal floor calls, system resets, and emergency stops. It interacts with the physical
 elevator hardware through the <a href="ElevatorAPI.html" title="class in Unnamed Package"><code>ElevatorAPI</code></a> and manages door states via <a href="DoorManager.html" title="class in Unnamed Package"><code>DoorManager</code></a>.
 This class also maintains the elevator's current state, such as its floor, direction, and emergency status.</div>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private int</code></div>
<div class="col-second even-row-color"><code><a href="#currentFloor" class="member-name-link">currentFloor</a></code></div>
<div class="col-last even-row-color">
<div class="block">Stores the elevator's current floor.</div>
</div>
<div class="col-first odd-row-color"><code>private <a href="Direction.html" title="enum class in Unnamed Package">Direction</a></code></div>
<div class="col-second odd-row-color"><code><a href="#direction" class="member-name-link">direction</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Represents the current movement direction of the elevator.</div>
</div>
<div class="col-first even-row-color"><code>private final <a href="DoorManager.html" title="class in Unnamed Package">DoorManager</a></code></div>
<div class="col-second even-row-color"><code><a href="#doorManager" class="member-name-link">doorManager</a></code></div>
<div class="col-last even-row-color">
<div class="block">Manages the opening and closing of the elevator doors.</div>
</div>
<div class="col-first odd-row-color"><code>private final <a href="ElevatorAPI.html" title="class in Unnamed Package">ElevatorAPI</a></code></div>
<div class="col-second odd-row-color"><code><a href="#elevator" class="member-name-link">elevator</a></code></div>
<div class="col-last odd-row-color">
<div class="block">An interface to interact with the underlying elevator hardware (e.g., motors, sensors, PLC).</div>
</div>
<div class="col-first even-row-color"><code>private boolean</code></div>
<div class="col-second even-row-color"><code><a href="#inEmergency" class="member-name-link">inEmergency</a></code></div>
<div class="col-last even-row-color">
<div class="block">A boolean flag indicating whether the elevator system is currently in an emergency state.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(ElevatorAPI)" class="member-name-link">ElevatorController</a><wbr>(<a href="ElevatorAPI.html" title="class in Unnamed Package">ElevatorAPI</a>&nbsp;elevator)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a new <code>ElevatorController</code> instance.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#blockDuringEmergency(Request,RequestHandler)" class="member-name-link">blockDuringEmergency</a><wbr>(<a href="Request.html" title="class in Unnamed Package">Request</a>&nbsp;request,
 <a href="RequestHandler.html" title="class in Unnamed Package">RequestHandler</a>&nbsp;handler)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Blocks most elevator commands when the system is in an emergency state.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentFloor()" class="member-name-link">getCurrentFloor</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the elevator's current floor.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Direction.html" title="enum class in Unnamed Package">Direction</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDirection()" class="member-name-link">getDirection</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the current operational direction of the elevator.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleEmergency()" class="member-name-link">handleEmergency</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Puts the elevator system into an emergency state.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleEmergencyStop(Request,RequestHandler)" class="member-name-link">handleEmergencyStop</a><wbr>(<a href="Request.html" title="class in Unnamed Package">Request</a>&nbsp;request,
 <a href="RequestHandler.html" title="class in Unnamed Package">RequestHandler</a>&nbsp;handler)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles requests that are specifically designated as an "emergency stop" command.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleIdleState(Request)" class="member-name-link">handleIdleState</a><wbr>(<a href="Request.html" title="class in Unnamed Package">Request</a>&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the state where there are no pending requests.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleSameFloorRequest(Request,RequestHandler)" class="member-name-link">handleSameFloorRequest</a><wbr>(<a href="Request.html" title="class in Unnamed Package">Request</a>&nbsp;request,
 <a href="RequestHandler.html" title="class in Unnamed Package">RequestHandler</a>&nbsp;handler)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles requests where the elevator is already at the target floor.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleSystemReset(Request,RequestHandler)" class="member-name-link">handleSystemReset</a><wbr>(<a href="Request.html" title="class in Unnamed Package">Request</a>&nbsp;request,
 <a href="RequestHandler.html" title="class in Unnamed Package">RequestHandler</a>&nbsp;handler)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles requests that are specifically designated as a "system reset" command.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isInEmergency()" class="member-name-link">isInEmergency</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks the current emergency status of the elevator system.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#moveDown(int,int,int,int,int)" class="member-name-link">moveDown</a><wbr>(int&nbsp;current,
 int&nbsp;target,
 int&nbsp;approachSensor,
 int&nbsp;safetySensor,
 int&nbsp;reachedSensor)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Manages the downward movement of the elevator, incorporating different speeds and sensor checks.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#moveToTargetFloor(Request,RequestHandler)" class="member-name-link">moveToTargetFloor</a><wbr>(<a href="Request.html" title="class in Unnamed Package">Request</a>&nbsp;request,
 <a href="RequestHandler.html" title="class in Unnamed Package">RequestHandler</a>&nbsp;handler)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Implements the core logic for moving the elevator to a requested floor.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#moveUp(int,int,int,int,int)" class="member-name-link">moveUp</a><wbr>(int&nbsp;current,
 int&nbsp;target,
 int&nbsp;approachSensor,
 int&nbsp;safetySensor,
 int&nbsp;reachedSensor)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Manages the upward movement of the elevator, incorporating different speeds and sensor checks.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#process(Request,RequestHandler)" class="member-name-link">process</a><wbr>(<a href="Request.html" title="class in Unnamed Package">Request</a>&nbsp;request,
 <a href="RequestHandler.html" title="class in Unnamed Package">RequestHandler</a>&nbsp;handler)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The main entry point for processing an individual elevator request.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#resetSystem(RequestHandler)" class="member-name-link">resetSystem</a><wbr>(<a href="RequestHandler.html" title="class in Unnamed Package">RequestHandler</a>&nbsp;handler)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Resets the elevator system after an emergency or a system reset command.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stopMovement()" class="member-name-link">stopMovement</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attempts to safely stop all elevator motors.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#validateFloorRequest(Request,RequestHandler)" class="member-name-link">validateFloorRequest</a><wbr>(<a href="Request.html" title="class in Unnamed Package">Request</a>&nbsp;request,
 <a href="RequestHandler.html" title="class in Unnamed Package">RequestHandler</a>&nbsp;handler)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Validates if a floor request is within the acceptable range (floors 1 to 4).</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="elevator">
<h3>elevator</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="ElevatorAPI.html" title="class in Unnamed Package">ElevatorAPI</a></span>&nbsp;<span class="element-name">elevator</span></div>
<div class="block">An interface to interact with the underlying elevator hardware (e.g., motors, sensors, PLC).
 This dependency injection allows the <code>ElevatorController</code> to be tested with mock
 implementations of the hardware or to be easily adapted to different physical elevator systems.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="doorManager">
<h3>doorManager</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="DoorManager.html" title="class in Unnamed Package">DoorManager</a></span>&nbsp;<span class="element-name">doorManager</span></div>
<div class="block">Manages the opening and closing of the elevator doors. It encapsulates the logic
 and interactions required to control the physical door mechanisms, providing a cleaner
 interface for the <code>ElevatorController</code>.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="direction">
<h3>direction</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="Direction.html" title="enum class in Unnamed Package">Direction</a></span>&nbsp;<span class="element-name">direction</span></div>
<div class="block">Represents the current movement direction of the elevator.
 Can be <a href="Direction.html#UP"><code>Direction.UP</code></a>, <a href="Direction.html#DOWN"><code>Direction.DOWN</code></a>, or <a href="Direction.html#IDLE"><code>Direction.IDLE</code></a>.
 Initially set to <a href="Direction.html#IDLE"><code>Direction.IDLE</code></a> when the controller starts.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="currentFloor">
<h3>currentFloor</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">currentFloor</span></div>
<div class="block">Stores the elevator's current floor. This value is updated based on sensor readings
 from the <a href="ElevatorAPI.html" title="class in Unnamed Package"><code>ElevatorAPI</code></a> or assumptions during initialization.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="inEmergency">
<h3>inEmergency</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">inEmergency</span></div>
<div class="block">A boolean flag indicating whether the elevator system is currently in an emergency state.
 When <code>true</code>, most operations are blocked, and only emergency reset commands are allowed.</div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(ElevatorAPI)">
<h3>ElevatorController</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ElevatorController</span><wbr><span class="parameters">(<a href="ElevatorAPI.html" title="class in Unnamed Package">ElevatorAPI</a>&nbsp;elevator)</span></div>
<div class="block">Constructs a new <code>ElevatorController</code> instance.
 Initializes the elevator API and the door manager. It attempts to detect the elevator's
 current floor using sensors on startup. If no floor can be detected (e.g., no sensor
 is triggered), it defaults the <code>currentFloor</code> to 1 and logs a warning.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>elevator</code> - The implementation of <a href="ElevatorAPI.html" title="class in Unnamed Package"><code>ElevatorAPI</code></a> to control the physical elevator.</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getCurrentFloor()">
<h3>getCurrentFloor</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getCurrentFloor</span>()</div>
<div class="block">Returns the elevator's current floor.
 This method first attempts to get the floor from the elevator's sensors via <a href="ElevatorAPI.html#getCurrentFloor()"><code>ElevatorAPI.getCurrentFloor()</code></a>.
 If a valid floor is sensed (not -1), it updates the internal <code>currentFloor</code> state before returning it.
 This ensures the internal state is as up-to-date as possible.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The current floor number where the elevator is located.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getDirection()">
<h3>getDirection</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Direction.html" title="enum class in Unnamed Package">Direction</a></span>&nbsp;<span class="element-name">getDirection</span>()</div>
<div class="block">Returns the current operational direction of the elevator.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The <a href="Direction.html" title="enum class in Unnamed Package"><code>Direction</code></a> enum representing whether the elevator is moving UP, DOWN, or is IDLE.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isInEmergency()">
<h3>isInEmergency</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isInEmergency</span>()</div>
<div class="block">Checks the current emergency status of the elevator system.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if the elevator is in an emergency state (movement stopped, only reset commands allowed),
 <code>false</code> otherwise.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="stopMovement()">
<h3>stopMovement</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">stopMovement</span>()</div>
<div class="block">Attempts to safely stop all elevator motors.
 This method iterates through various motor identifiers (-2, -1, 1, 2) and attempts to turn them off
 using `elevator.motorOn(motorId, false)`. It also sets the crawl speed to 0 using `elevator.setCrawl(0)`.
 Error messages are printed to `System.err` if any motor operation fails, typically due to Modbus
 communication issues, indicating potential problems with the PLC connection or configuration.
 A success message is printed if all motor operations appear to complete without exceptions.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="handleEmergency()">
<h3>handleEmergency</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleEmergency</span>()</div>
<div class="block">Puts the elevator system into an emergency state.
 This method sets the `inEmergency` flag to <code>true</code>, immediately calls <a href="#stopMovement()"><code>stopMovement()</code></a>
 to halt all elevator motion, and prints a message indicating the emergency status and what
 action is expected (emergency reset).</div>
</div>
</section>
</li>
<li>
<section class="detail" id="resetSystem(RequestHandler)">
<h3>resetSystem</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">resetSystem</span><wbr><span class="parameters">(<a href="RequestHandler.html" title="class in Unnamed Package">RequestHandler</a>&nbsp;handler)</span>
                 throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Resets the elevator system after an emergency or a system reset command.
 This method performs several crucial actions to bring the elevator back to a default, operational state:
 <ul>
 <li>Calls <a href="ElevatorAPI.html#reset()"><code>ElevatorAPI.reset()</code></a> to reset the Programmable Logic Controller (PLC) or other hardware.</li>
 <li>Clears all pending requests from the <a href="RequestHandler.html" title="class in Unnamed Package"><code>RequestHandler</code></a>'s queue using <code>handler.clear()</code>.</li>
 <li>Resets the elevator's internal <code>direction</code> to <a href="Direction.html#IDLE"><code>Direction.IDLE</code></a>.</li>
 <li>Resets the <code>currentFloor</code> to 1, as a default starting point.</li>
 <li>Sets the <code>inEmergency</code> flag back to <code>false</code>, indicating the emergency state is cleared.</li>
 </ul>
 A "System reset." message is printed upon successful completion.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>handler</code> - The <a href="RequestHandler.html" title="class in Unnamed Package"><code>RequestHandler</code></a> instance to clear its request queue.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - If any error occurs during the elevator hardware reset operation.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="process(Request,RequestHandler)">
<h3>process</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">process</span><wbr><span class="parameters">(<a href="Request.html" title="class in Unnamed Package">Request</a>&nbsp;request,
 <a href="RequestHandler.html" title="class in Unnamed Package">RequestHandler</a>&nbsp;handler)</span>
             throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">The main entry point for processing an individual elevator request.
 This method orchestrates a series of checks and actions based on the type and state
 of the incoming request and the current elevator status. It prioritizes special requests
 (idle state, system reset, emergency stop, emergency block) before handling regular floor calls.

 <p>The processing order is crucial and is as follows:</p>
 <ol>
 <li><a href="#handleIdleState(Request)"><code>handleIdleState(Request)</code></a>: Checks if the request is null (no pending requests). If so, sets elevator to IDLE.</li>
 <li><a href="#handleSystemReset(Request,RequestHandler)"><code>handleSystemReset(Request, RequestHandler)</code></a>: Handles system reset commands.</li>
 <li><a href="#handleEmergencyStop(Request,RequestHandler)"><code>handleEmergencyStop(Request, RequestHandler)</code></a>: Handles emergency stop commands.</li>
 <li><a href="#blockDuringEmergency(Request,RequestHandler)"><code>blockDuringEmergency(Request, RequestHandler)</code></a>: Blocks most commands if in an emergency, except for emergency reset.</li>
 <li><a href="#validateFloorRequest(Request,RequestHandler)"><code>validateFloorRequest(Request, RequestHandler)</code></a>: Validates if a floor request is within valid bounds (1-4).</li>
 <li><a href="#handleSameFloorRequest(Request,RequestHandler)"><code>handleSameFloorRequest(Request, RequestHandler)</code></a>: Handles cases where the elevator is already at the requested floor.</li>
 <li><a href="#moveToTargetFloor(Request,RequestHandler)"><code>moveToTargetFloor(Request, RequestHandler)</code></a>: Executes the main movement logic if none of the above conditions are met.</li>
 </ol>
 Each handler method returns `true` if it successfully processed the request and no further action is needed
 for that specific request, allowing the `process` method to `return` early.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - The <a href="Request.html" title="class in Unnamed Package"><code>Request</code></a> object to be processed. Can be <code>null</code> if no requests are pending.</dd>
<dd><code>handler</code> - The <a href="RequestHandler.html" title="class in Unnamed Package"><code>RequestHandler</code></a> instance, used for removing requests or clearing the queue.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - If any underlying elevator API operation or system reset fails.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="handleIdleState(Request)">
<h3>handleIdleState</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">handleIdleState</span><wbr><span class="parameters">(<a href="Request.html" title="class in Unnamed Package">Request</a>&nbsp;request)</span></div>
<div class="block">Handles the state where there are no pending requests.
 If the provided `request` is `null`, it signifies that the <a href="RequestHandler.html" title="class in Unnamed Package"><code>RequestHandler</code></a> has no requests
 to offer. In this scenario, if the elevator is not already <a href="Direction.html#IDLE"><code>Direction.IDLE</code></a>,
 its direction is set to <a href="Direction.html#IDLE"><code>Direction.IDLE</code></a>, and a message is logged.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - The <a href="Request.html" title="class in Unnamed Package"><code>Request</code></a> object to check.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the request is `null` and the elevator's state was set to IDLE (or already was),
 indicating that no further processing is needed for a non-existent request. <code>false</code> otherwise.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="handleSystemReset(Request,RequestHandler)">
<h3>handleSystemReset</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">handleSystemReset</span><wbr><span class="parameters">(<a href="Request.html" title="class in Unnamed Package">Request</a>&nbsp;request,
 <a href="RequestHandler.html" title="class in Unnamed Package">RequestHandler</a>&nbsp;handler)</span>
                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Handles requests that are specifically designated as a "system reset" command.
 If the <code>request</code> is identified as a system reset (`request.isSystemReset()`),
 it calls <a href="#resetSystem(RequestHandler)"><code>resetSystem(RequestHandler)</code></a> to perform a full system reset.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - The <a href="Request.html" title="class in Unnamed Package"><code>Request</code></a> object to evaluate.</dd>
<dd><code>handler</code> - The <a href="RequestHandler.html" title="class in Unnamed Package"><code>RequestHandler</code></a> instance, passed to `resetSystem` to clear its queue.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the request was a system reset and was handled; <code>false</code> otherwise.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - If the `resetSystem` operation encounters an error (e.g., PLC communication failure).</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="handleEmergencyStop(Request,RequestHandler)">
<h3>handleEmergencyStop</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">handleEmergencyStop</span><wbr><span class="parameters">(<a href="Request.html" title="class in Unnamed Package">Request</a>&nbsp;request,
 <a href="RequestHandler.html" title="class in Unnamed Package">RequestHandler</a>&nbsp;handler)</span></div>
<div class="block">Handles requests that are specifically designated as an "emergency stop" command.
 If the <code>request</code> is an emergency stop (`request.isEmergencyStop()`),
 and the elevator is not already in an emergency state (`!inEmergency`),
 it triggers <a href="#handleEmergency()"><code>handleEmergency()</code></a> to stop all movement.
 Regardless of whether the emergency state was newly triggered or already active,
 the emergency stop request is then removed from the <a href="RequestHandler.html" title="class in Unnamed Package"><code>RequestHandler</code></a>'s queue.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - The <a href="Request.html" title="class in Unnamed Package"><code>Request</code></a> object to evaluate.</dd>
<dd><code>handler</code> - The <a href="RequestHandler.html" title="class in Unnamed Package"><code>RequestHandler</code></a> instance, used to remove the emergency stop request.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the request was an emergency stop and was handled (emergency triggered or not, request removed);
 <code>false</code> otherwise.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="blockDuringEmergency(Request,RequestHandler)">
<h3>blockDuringEmergency</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">blockDuringEmergency</span><wbr><span class="parameters">(<a href="Request.html" title="class in Unnamed Package">Request</a>&nbsp;request,
 <a href="RequestHandler.html" title="class in Unnamed Package">RequestHandler</a>&nbsp;handler)</span></div>
<div class="block">Blocks most elevator commands when the system is in an emergency state.
 If the <code>inEmergency</code> flag is <code>true</code>, this method acts as a gatekeeper.
 It allows only "emergency reset" commands to pass through; all other requests are blocked
 by simply returning <code>true</code> (indicating they've been "handled" by being ignored).
 If an "emergency reset" request is received while in emergency, the emergency state is cleared,
 the request is removed from the queue, and a message is logged.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - The <a href="Request.html" title="class in Unnamed Package"><code>Request</code></a> object to evaluate.</dd>
<dd><code>handler</code> - The <a href="RequestHandler.html" title="class in Unnamed Package"><code>RequestHandler</code></a> instance, used for removing the emergency reset request.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the elevator is in an emergency state (thus blocking most requests or processing an emergency reset);
 <code>false</code> if the elevator is not in an emergency state and normal processing should continue.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="validateFloorRequest(Request,RequestHandler)">
<h3>validateFloorRequest</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">validateFloorRequest</span><wbr><span class="parameters">(<a href="Request.html" title="class in Unnamed Package">Request</a>&nbsp;request,
 <a href="RequestHandler.html" title="class in Unnamed Package">RequestHandler</a>&nbsp;handler)</span></div>
<div class="block">Validates if a floor request is within the acceptable range (floors 1 to 4).
 If the <code>request.floor</code> is less than 1 or greater than 4, it is considered invalid.
 Invalid requests are logged as an error and removed from the <a href="RequestHandler.html" title="class in Unnamed Package"><code>RequestHandler</code></a>'s queue.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - The <a href="Request.html" title="class in Unnamed Package"><code>Request</code></a> object containing the floor number to validate.</dd>
<dd><code>handler</code> - The <a href="RequestHandler.html" title="class in Unnamed Package"><code>RequestHandler</code></a> instance, used to remove invalid requests.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the floor request is valid (within 1-4); <code>false</code> if it's invalid and has been removed.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="handleSameFloorRequest(Request,RequestHandler)">
<h3>handleSameFloorRequest</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">handleSameFloorRequest</span><wbr><span class="parameters">(<a href="Request.html" title="class in Unnamed Package">Request</a>&nbsp;request,
 <a href="RequestHandler.html" title="class in Unnamed Package">RequestHandler</a>&nbsp;handler)</span>
                                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Handles requests where the elevator is already at the target floor.
 If the elevator's <a href="#currentFloor"><code>currentFloor</code></a> matches the `request.floor`, it means no movement is needed.
 In this case, the method simulates passenger interaction by opening the doors (if closed),
 waiting for a fixed duration (6 seconds), closing the doors (if open), and then removing
 the request from the queue. The elevator's direction is then set to <a href="Direction.html#IDLE"><code>Direction.IDLE</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - The <a href="Request.html" title="class in Unnamed Package"><code>Request</code></a> object to evaluate.</dd>
<dd><code>handler</code> - The <a href="RequestHandler.html" title="class in Unnamed Package"><code>RequestHandler</code></a> instance, used to remove the serviced request.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the elevator was already at the target floor and the request was handled;
 <code>false</code> otherwise.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - If there's an issue with door operations (e.g., communication with hardware) or `Thread.sleep()`.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="moveToTargetFloor(Request,RequestHandler)">
<h3>moveToTargetFloor</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">moveToTargetFloor</span><wbr><span class="parameters">(<a href="Request.html" title="class in Unnamed Package">Request</a>&nbsp;request,
 <a href="RequestHandler.html" title="class in Unnamed Package">RequestHandler</a>&nbsp;handler)</span></div>
<div class="block">Implements the core logic for moving the elevator to a requested floor.
 This method determines the necessary direction (UP or DOWN) based on the `currentFloor` and `target` floor.
 It uses pre-defined sensor arrays for `reachedSensors`, `approachLower`, `approachUpper`, `safetyLower`,
 and `safetyUpper` to manage precise stopping.

 <p>Movement phases (handled by <a href="#moveUp(int,int,int,int,int)"><code>moveUp(int, int, int, int, int)</code></a> and <a href="#moveDown(int,int,int,int,int)"><code>moveDown(int, int, int, int, int)</code></a>):</p>
 <ul>
 <li>**Fast phase:** Elevator moves at a higher speed until an approach sensor is triggered.</li>
 <li>**Crawl phase (speed 4 or -4):** Reduces speed to a "crawl" after the approach sensor.</li>
 <li>**Slow crawl phase (speed 1 or -1):** Further reduces speed for final approach to the exact floor sensor.</li>
 </ul>
 After movement, it calls <a href="#stopMovement()"><code>stopMovement()</code></a>. It then verifies if the correct `reachedSensor`
 for the `target` floor is triggered. If confirmed:
 <ul>
 <li>Updates `currentFloor`.</li>
 <li>Opens doors via <a href="DoorManager.html#openIfClosed()"><code>DoorManager.openIfClosed()</code></a>, waits, and closes via <a href="DoorManager.html#closeIfOpen()"><code>DoorManager.closeIfOpen()</code></a>.</li>
 <li>Removes the serviced request from the <a href="RequestHandler.html" title="class in Unnamed Package"><code>RequestHandler</code></a>'s queue.</li>
 <li>**Crucially**, it checks if there are other requests in the same direction. If not, or if the next request is for the current floor or in the opposite direction, the elevator's `direction` is set to <a href="Direction.html#IDLE"><code>Direction.IDLE</code></a>.</li>
 </ul>
 If the target floor sensor is not triggered, an error is logged, and the request remains in the queue.
 Error handling includes logging and a fail-safe call to <a href="#stopMovement()"><code>stopMovement()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - The <a href="Request.html" title="class in Unnamed Package"><code>Request</code></a> object containing the target floor.</dd>
<dd><code>handler</code> - The <a href="RequestHandler.html" title="class in Unnamed Package"><code>RequestHandler</code></a> instance, used for removing the request and getting the next request.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="moveUp(int,int,int,int,int)">
<h3>moveUp</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">moveUp</span><wbr><span class="parameters">(int&nbsp;current,
 int&nbsp;target,
 int&nbsp;approachSensor,
 int&nbsp;safetySensor,
 int&nbsp;reachedSensor)</span>
             throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Manages the upward movement of the elevator, incorporating different speeds and sensor checks.
 This method is responsible for moving the elevator from its current position to a target floor
 when the <a href="Direction.html" title="enum class in Unnamed Package"><code>Direction</code></a> is <a href="Direction.html#UP"><code>Direction.UP</code></a>.
 It uses a multi-phase approach to ensure smooth and accurate stopping:
 <ol>
 <li>**Fast Phase:** The elevator moves at a higher speed (motor 2) until it triggers an `approachSensor`.
 This sensor is typically a few feet before the target floor. The loop also checks for `reachedSensor`
 (in case of overshoot or very close targets) and `inEmergency` status to stop immediately.</li>
 <li>**Initial Crawl Phase:** After the approach sensor, the elevator switches to a slower "crawl" speed (crawl 4).
 It continues until a `safetySensor` is triggered. This sensor provides an additional buffer before the final stop point.</li>
 <li>**Slow Crawl Phase:** The speed is further reduced to a very slow "crawl" (crawl 1) as it approaches the exact
 `reachedSensor` for the target floor. This phase ensures precise leveling at the floor.</li>
 </ol>
 Throughout all phases, the method continuously checks the `inEmergency` flag. If an emergency is triggered,
 it immediately calls <a href="#stopMovement()"><code>stopMovement()</code></a> and returns, halting all motion.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>current</code> - The elevator's current floor (used for logging, not directly for movement logic in this method).</dd>
<dd><code>target</code> - The target floor number (used for logging, not directly for movement logic in this method).</dd>
<dd><code>approachSensor</code> - The ID of the sensor to trigger to transition from fast to initial crawl speed.
 Can be -1 if no fast phase is needed for that floor.</dd>
<dd><code>safetySensor</code> - The ID of the sensor to trigger to transition from initial crawl to slow crawl speed.</dd>
<dd><code>reachedSensor</code> - The ID of the final sensor that signals the elevator has reached the exact target floor.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - If there's an issue with elevator motor or sensor operations (e.g., Modbus communication).</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="moveDown(int,int,int,int,int)">
<h3>moveDown</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">moveDown</span><wbr><span class="parameters">(int&nbsp;current,
 int&nbsp;target,
 int&nbsp;approachSensor,
 int&nbsp;safetySensor,
 int&nbsp;reachedSensor)</span>
               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Manages the downward movement of the elevator, incorporating different speeds and sensor checks.
 This method is responsible for moving the elevator from its current position to a target floor
 when the <a href="Direction.html" title="enum class in Unnamed Package"><code>Direction</code></a> is <a href="Direction.html#DOWN"><code>Direction.DOWN</code></a>.
 It mirrors the logic of <a href="#moveUp(int,int,int,int,int)"><code>moveUp(int, int, int, int, int)</code></a> but for downward movement:
 <ol>
 <li>**Fast Phase:** The elevator moves at a higher speed (motor -2 for down) until it triggers an `approachSensor`.</li>
 <li>**Initial Crawl Phase:** After the approach sensor, the elevator switches to a slower "crawl" speed (crawl -4).
 It continues until a `safetySensor` is triggered.</li>
 <li>**Slow Crawl Phase:** The speed is further reduced to a very slow "crawl" (crawl -1) as it approaches the exact
 `reachedSensor` for the target floor.</li>
 </ol>
 Similar to `moveUp`, it continuously monitors the `inEmergency` flag and immediately halts motion
 if an emergency is detected.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>current</code> - The elevator's current floor (used for logging, not directly for movement logic in this method).</dd>
<dd><code>target</code> - The target floor number (used for logging, not directly for movement logic in this method).</dd>
<dd><code>approachSensor</code> - The ID of the sensor to trigger to transition from fast to initial crawl speed.
 Can be -1 if no fast phase is needed for that floor.</dd>
<dd><code>safetySensor</code> - The ID of the sensor to trigger to transition from initial crawl to slow crawl speed.</dd>
<dd><code>reachedSensor</code> - The ID of the final sensor that signals the elevator has reached the exact target floor.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - If there's an issue with elevator motor or sensor operations (e.g., Modbus communication).</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</body>
</html>
